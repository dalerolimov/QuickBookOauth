@page "/"
@inject NavigationManager NavigationManager

<h1>Hello, world!</h1>

<button @onclick="Redirect">Connect to Quickbook</button>

@code
{   
        private const string ClientId = "AB982kbi6DYVFZK8Ea4oaQDkss3SJmUSYjR7OJMDa2zIOiRBtS";
        private const string Scope = "com.intuit.quickbooks.accounting";
        private const string State = "1235";
        private const string RedirectUrl = "https://localhost:44306/receiver";

    private string GetAuthorizeUrl()
    {
        // //Prepare scopes
        // var scopes = new List<OidcScopes> { OidcScopes.Accounting };
        //
        // //Get the authorization URL
        // return _oauthClient.GetAuthorizationURL(scopes);

        return $"https://appcenter.intuit.com/connect/oauth2?client_id={ClientId}&scope={Scope}&redirect_uri={RedirectUrl}&response_type=code&state={State}";
    }

    private void Redirect()
    {
        NavigationManager.NavigateTo(GetAuthorizeUrl());
    }
}
